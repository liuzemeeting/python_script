icon_data = [{"attire_name": "数学上衣-2-2-1", "part_id": "2", "sid": "2", "sex": "1", "icon_url": "attire/2019/07/17/20190717181820314363.png"},
             {"attire_name": "数学上衣-9-2-2", "part_id": "9", "sid": "2", "sex": "2", "icon_url": "attire/2019/07/17/20190717181820340993.png"},
             {"attire_name": "数学下衣-10-2-2", "part_id": "10", "sid": "2", "sex": "2", "icon_url": "attire/2019/07/17/20190717181820367619.png"},
             {"attire_name": "数学下衣-3-2-1", "part_id": "3", "sid": "2", "sex": "1", "icon_url": "attire/2019/07/17/20190717181820415527.png"},
             {"attire_name": "数学发型-1-2-1", "part_id": "1", "sid": "2", "sex": "1", "icon_url": "attire/2019/07/17/20190717181820460197.png"},
             {"attire_name": "数学发型-8-2-2", "part_id": "8", "sid": "2", "sex": "2", "icon_url": "attire/2019/07/17/20190717181820496536.png"},
             {"attire_name": "数学背景-12-2-2", "part_id": "12", "sid": "2", "sex": "2", "icon_url": "attire/2019/07/17/20190717181820537130.png"},
             {"attire_name": "数学背景-5-2-1", "part_id": "5", "sid": "2", "sex": "1", "icon_url": "attire/2019/07/17/20190717181820573494.png"},
             {"attire_name": "数学鞋子-11-2-2", "part_id": "11", "sid": "2", "sex": "2", "icon_url": "attire/2019/07/17/20190717181820604411.png"},
             {"attire_name": "数学鞋子-4-2-1", "part_id": "4", "sid": "2", "sex": "1", "icon_url": "attire/2019/07/17/20190717181820677059.png"},
             {"attire_name": "英语上衣-2-9-1", "part_id": "2", "sid": "9", "sex": "1", "icon_url": "attire/2019/07/17/20190717181820755967.png"},
             {"attire_name": "英语上衣-9-9-2", "part_id": "9", "sid": "9", "sex": "2", "icon_url": "attire/2019/07/17/20190717181820882538.png"},
             {"attire_name": "英语下衣-10-9-2", "part_id": "10", "sid": "9", "sex": "2", "icon_url": "attire/2019/07/17/20190717181820956673.png"},
             {"attire_name": "英语下衣-3-9-1", "part_id": "3", "sid": "9", "sex": "1", "icon_url": "attire/2019/07/17/2019071718182112540.png"},
             {"attire_name": "英语发型-1-9-1", "part_id": "1", "sid": "9", "sex": "1", "icon_url": "attire/2019/07/17/2019071718182158641.png"},
             {"attire_name": "英语发型-8-9-2", "part_id": "8", "sid": "9", "sex": "2", "icon_url": "attire/2019/07/17/20190717181821111764.png"},
             {"attire_name": "英语背景-12-9-2", "part_id": "12", "sid": "9", "sex": "2", "icon_url": "attire/2019/07/17/20190717181821151803.png"},
             {"attire_name": "英语背景-5-9-1", "part_id": "5", "sid": "9", "sex": "1", "icon_url": "attire/2019/07/17/20190717181821205935.png"},
             {"attire_name": "英语鞋子-11-9-2", "part_id": "11", "sid": "9", "sex": "2", "icon_url": "attire/2019/07/17/20190717181821247397.png"},
             {"attire_name": "英语鞋子-4-9-1", "part_id": "4", "sid": "9", "sex": "1", "icon_url": "attire/2019/07/17/20190717181821283779.png"},
             {"attire_name": "语文上衣-1-5-1", "part_id": "1", "sid": "5", "sex": "1", "icon_url": "attire/2019/07/17/20190717181821335747.png"},
             {"attire_name": "语文上衣-9-5-2", "part_id": "9", "sid": "5", "sex": "2", "icon_url": "attire/2019/07/17/20190717181821380532.png"},
             {"attire_name": "语文下衣-1-5-1", "part_id": "1", "sid": "5", "sex": "1", "icon_url": "attire/2019/07/17/20190717181821433470.png"},
             {"attire_name": "语文下衣-10-5-2", "part_id": "10", "sid": "5", "sex": "2", "icon_url": "attire/2019/07/17/20190717181821466846.png"},
             {"attire_name": "语文发型-1-5-1", "part_id": "1", "sid": "5", "sex": "1", "icon_url": "attire/2019/07/17/20190717181821522846.png"},
             {"attire_name": "语文发型-8-5-2", "part_id": "8", "sid": "5", "sex": "2", "icon_url": "attire/2019/07/17/20190717181821561291.png"},
             {"attire_name": "语文背景-12-5-2", "part_id": "12", "sid": "5", "sex": "2", "icon_url": "attire/2019/07/17/20190717181821600733.png"},
             {"attire_name": "语文背景-5-5-1", "part_id": "5", "sid": "5", "sex": "1", "icon_url": "attire/2019/07/17/20190717181821639419.png"},
             {"attire_name": "语文鞋子-1-5-1", "part_id": "1", "sid": "5", "sex": "1", "icon_url": "attire/2019/07/17/20190717181821675042.png"},
             {"attire_name": "语文鞋子-11-5-2", "part_id": "11", "sid": "5", "sex": "2", "icon_url": "attire/2019/07/17/20190717181821710302.png"}]

attire_data = [{"part_id": "12", "sid": "2", "sex": "2", "file_url": "attire/2019/07/17/20190717180408105927.png"},
 {"part_id": "5", "sid": "2", "sex": "1", "file_url": "attire/2019/07/17/20190717180408820200.png"},
 {"part_id": "9", "sid": "2", "sex": "2", "file_url": "attire/2019/07/17/20190717180408921059.png"},
 {"part_id": "9", "sid": "5", "sex": "2", "file_url": "attire/2019/07/17/20190717180408981356.png"},
 {"part_id": "9", "sid": "9", "sex": "2", "file_url": "attire/2019/07/17/2019071718040956607.png"},
 {"part_id": "2", "sid": "2", "sex": "1", "file_url": "attire/2019/07/17/20190717180409101994.png"},
 {"part_id": "2", "sid": "5", "sex": "1", "file_url": "attire/2019/07/17/20190717180409154750.png"},
 {"part_id": "2", "sid": "9", "sex": "1", "file_url": "attire/2019/07/17/20190717180409263532.png"},
 {"part_id": "3", "sid": "2", "sex": "1", "file_url": "attire/2019/07/17/20190717180409611200.png"},
 {"part_id": "10", "sid": "2", "sex": "2", "file_url": "attire/2019/07/17/20190717180409638190.png"},
 {"part_id": "10", "sid": "5", "sex": "2", "file_url": "attire/2019/07/17/20190717180409684819.png"},
 {"part_id": "10", "sid": "9", "sex": "2", "file_url": "attire/2019/07/17/20190717180409735939.png"},
 {"part_id": "3", "sid": "5", "sex": "1", "file_url": "attire/2019/07/17/20190717180409802191.png"},
 {"part_id": "3", "sid": "9", "sex": "1", "file_url": "attire/2019/07/17/20190717180409862288.png"},
 {"part_id": "8", "sid": "2", "sex": "2", "file_url": "attire/2019/07/17/20190717180409906773.png"},
 {"part_id": "8", "sid": "9", "sex": "2", "file_url": "attire/2019/07/17/20190717180410292436.png"},
 {"part_id": "8", "sid": "2", "sex": "2", "file_url": "attire/2019/07/17/20190717180410349310.png"},
 {"part_id": "8", "sid": "9", "sex": "2", "file_url": "attire/2019/07/17/20190717180410425524.png"},
 {"part_id": "8", "sid": "5", "sex": "2", "file_url": "attire/2019/07/17/20190717180410490943.png"},
 {"part_id": "1", "sid": "2", "sex": "1", "file_url": "attire/2019/07/17/20190717180410543987.png"},
 {"part_id": "1", "sid": "5", "sex": "1", "file_url": "attire/2019/07/17/20190717180410605326.png"},
 {"part_id": "1", "sid": "9", "sex": "1", "file_url": "attire/2019/07/17/20190717180410651276.png"},
 {"part_id": "4", "sid": "2", "sex": "1", "file_url": "attire/2019/07/17/20190717180410689103.png"},
 {"part_id": "11", "sid": "2", "sex": "2", "file_url": "attire/2019/07/17/20190717180410715715.png"},
 {"part_id": "11", "sid": "5", "sex": "2", "file_url": "attire/2019/07/17/20190717180410742299.png"},
 {"part_id": "4", "sid": "11", "sex": "2", "file_url": "attire/2019/07/17/20190717180410784685.png"},
 {"part_id": "4", "sid": "5", "sex": "1", "file_url": "attire/2019/07/17/20190717180410821167.png"},
 {"part_id": "4", "sid": "9", "sex": "1", "file_url": "attire/2019/07/17/20190717180410856171.png"},
 {"part_id": "12", "sid": "9", "sex": "2", "file_url": "attire/2019/07/17/20190717180411850583.png"},
 {"part_id": "5", "sid": "9", "sex": "1", "file_url": "attire/2019/07/17/20190717180413170880.png"},
 {"part_id": "12", "sid": "5", "sex": "2", "file_url": "attire/2019/07/17/2019071718041493446.png"},
 {"part_id": "5", "sid": "5", "sex": "1", "file_url": "attire/2019/07/17/20190717180414696435.png"}]
c_dict = {}
if __name__ == '__main__':
    # icon_data, attire_data = upload()
    # print("icon_data", icon_data)
    # print("attire_data", attire_data)
    reword_name = {2: "发饰", 3: "上衣", 4: "下衣", 5: "鞋子", 6: "场景"}
    reword_girl_name = {8: "发饰", 9: "上衣", 10: "下衣", 11: "鞋子", 12: "场景"}
    print("reword_name", reword_name)
    c_dict = {}
    for i in attire_data:
        key = str(i["part_id"]) + str(i["sid"]) + str(i["sex"])
        if key in c_dict:
            b = c_dict["%s" % key]
            attire_fair = i["file_url"]
            b += ",%s" % attire_fair
            c_dict["%s" % key] = b
        else:
            c_dict.update({key: i["file_url"]})
    print(c_dict)
    for item in icon_data:
        key = str(item["part_id"]) + str(item["sid"]) + str(item["sex"])
        wear_url = c_dict.get(key)
        print(key, wear_url)
    #     attire_id = db.home.homepage_attire_detail.create(
    #         part_id=item["part_id"],
    #         name=item["attire_name"],
    #         icon_url=item["icon_url"],
    #         wear_url=wear_url,
    #         status=1,
    #         price=0,
    #         position=0,
    #         sequence=0,
    #         type=1,
    #         add_time=int(time.time())
    #     )
        box_type = int(item["part_id"]) + 1
    #     print("box_type", type(box_type))
    #     print("reword_name.get(box_type)", reword_name.get(box_type))
        name = reword_name.get(box_type)
        if int(item["sex"]) == 2:
            print("int(item[part_id])", int(item["part_id"]), type(int(item["part_id"])))
            name = reword_girl_name.get(int(item["part_id"]))
        print("name", name)
    #     db.tournament.user_box_res.create(
    #         sid=int(item["sid"]),
    #         sex=int(item["sex"]),
    #         count=attire_id,
    #         type=box_type,
    #         name=name
    #     )
